import{K as h,j as e,e as d,Q as k,T as j,D as f,E as w,ae as N}from"./main-BbYQSaQk.js";import{k as v}from"./katex-DK8hFnhL.js";/* empty css                       */import{a as C}from"./zod-BSuARh4v.js";import{L as M}from"./lightbulb-BWAwtJoq.js";import{S as y}from"./sparkles-DHGnjLpy.js";import{C as T}from"./chevron-down-Curb5_nW.js";const _=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],G=h("beaker",_);const I=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]],$=h("book-open-text",I);const P=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],A=h("chart-bar",P);const E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],R=h("target",E),m={en:{summary:"Summary",problem:"Problem",method:"Method",results:"Results",takeaways:"Takeaways",abstract:"Abstract",aiGeneratedContent:"AI generated content"},zh:{summary:"摘要",problem:"问题",method:"方法",results:"结果",takeaways:"要点",abstract:"摘要",aiGeneratedContent:"AI 生成的内容"},ja:{summary:"要約",problem:"問題",method:"手法",results:"結果",takeaways:"要点",abstract:"抄録",aiGeneratedContent:"AI生成コンテンツ"},ru:{summary:"Резюме",problem:"Проблема",method:"Метод",results:"Результаты",takeaways:"Выводы",abstract:"Аннотация",aiGeneratedContent:"Контент, сгенерированный ИИ"},hi:{summary:"सारांश",problem:"समस्या",method:"विधि",results:"परिणाम",takeaways:"मुख्य बातें",abstract:"सार",aiGeneratedContent:"एआई जनरेटेड सामग्री"},de:{summary:"Zusammenfassung",problem:"Problem",method:"Methode",results:"Ergebnisse",takeaways:"Erkenntnisse",abstract:"Zusammenfassung",aiGeneratedContent:"KI-generierte Inhalte"},ko:{summary:"요약",problem:"문제",method:"방법",results:"결과",takeaways:"핵심사항",abstract:"초록",aiGeneratedContent:"AI 생성 콘텐츠"},es:{summary:"Resumen",problem:"Problema",method:"Método",results:"Resultados",takeaways:"Conclusiones",abstract:"Resumen",aiGeneratedContent:"Contenido generado por IA"},fr:{summary:"Résumé",problem:"Problème",method:"Méthode",results:"Résultats",takeaways:"Points Clés",abstract:"Résumé",aiGeneratedContent:"Contenu généré par IA"}},z=s=>s.replace(/\$\$(.*?)\$\$|\$(.*?)\$|\\\[(.*?)\\\]|\\\((.*?)\\\)/g,(n,o,x,r,a)=>{try{const i=o||x||r||a,u=!!o||!!r;return v.renderToString(N(i),{displayMode:u,throwOnError:!1})}catch(i){return console.error("KaTeX rendering error:",i),n}}),g=({children:s,className:n})=>{const o=z(s);return e.jsx("span",{className:n,dangerouslySetInnerHTML:{__html:o}})},b=({children:s,selectedLanguage:n="en"})=>{const o=m[n]||m.en;return e.jsxs(j,{children:[e.jsx(f,{asChild:!0,children:s}),e.jsx(w,{children:e.jsx("p",{children:o.aiGeneratedContent})})]})};function V({paperSummary:s,abstract:n,hideSections:o=!1,showAbstract:x=!1,selectedLanguage:r="en"}){const[a,i]=C.useState(null),u=t=>{const c=a===t?null:t;i(c),c&&k(`paper_summary_${t}_expanded`)},l=m[r]||m.en,p=[{id:"problem",title:l.problem,icon:e.jsx(R,{className:"h-4 w-4"}),content:s?.originalProblem},{id:"solution",title:l.method,icon:e.jsx(G,{className:"h-4 w-4"}),content:s?.solution},{id:"results",title:l.results,icon:e.jsx(A,{className:"h-4 w-4"}),content:s?.results},{id:"insights",title:l.takeaways,icon:e.jsx(M,{className:"h-4 w-4"}),content:s?.keyInsights}];return x&&p.push({id:"abstract",title:l.abstract,icon:e.jsx($,{className:"h-4 w-4"}),content:[n]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"bg-custom-red/[0.02] ring-custom-red/10 relative mt-2 rounded-lg p-2 pr-7 font-light tracking-tight text-text ring-1 dark:bg-[#1f1f1f] dark:ring-[#444] text-[15px]",children:[e.jsx(b,{selectedLanguage:r,children:e.jsx(y,{className:"text-custom-red absolute top-2 right-2 size-4 stroke-[1.25] opacity-80 dark:text-gray-400"})}),e.jsx(g,{children:s.summary})]}),!o&&e.jsx("div",{className:"relative mt-2",children:e.jsx("div",{className:"scrollbar-hide relative overflow-x-auto",children:e.jsx("div",{className:"flex gap-1.5 pb-1",children:p.map(t=>e.jsxs("button",{onClick:()=>u(t.id),className:d("group flex min-w-[100px] flex-1 items-center justify-between rounded-lg border p-1.5 text-xs transition-all",a===t.id?"border-custom-red/20 bg-custom-red/5 text-custom-red dark:border-gray-700 dark:bg-gray-800 dark:text-white":"bg-bg text-text hover:border-gray-200 hover:bg-mantle"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:d("transition-colors",a===t.id?"text-custom-red dark:text-white":"text-gray-400 group-hover:text-gray-500"),children:t.icon}),e.jsx("span",{children:t.title})]}),e.jsx(T,{className:d("h-3.5 w-3.5 transition-transform",a===t.id&&"rotate-180")})]},t.id))})})}),a&&e.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 mt-3 duration-200",children:e.jsx("div",{className:d("relative rounded-lg p-3 pr-8 text-sm text-text ring-1 dark:bg-[#1f1f1f] dark:ring-[#444]",a!=="abstract"||r!=="en"?"bg-custom-red/[0.02] ring-custom-red/10":"ring-gray-200"),children:a==="abstract"?e.jsxs(e.Fragment,{children:[r!=="en"&&e.jsx(b,{selectedLanguage:r,children:e.jsx(y,{className:"text-custom-red absolute top-2 right-2 size-4 stroke-[1.25] opacity-80 dark:text-gray-400"})}),e.jsx(g,{className:"text-text font-light",children:n})]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{selectedLanguage:r,children:e.jsx(y,{className:"text-custom-red absolute top-2 right-2 size-4 stroke-[1.25] opacity-80 dark:text-gray-400"})}),e.jsx("ul",{className:"space-y-2",children:p.find(t=>t.id===a)?.content?.map((t,c)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1.5 size-1 shrink-0 rounded-full bg-gray-400 dark:bg-gray-600"}),e.jsx(g,{className:"text-text font-light",children:t})]},c))})]})})})]})}export{g as L,V as P};
